{"ast":null,"code":"var _jsxFileName = \"/Volumes/External/code/my-app/frontend/src/routes/family-tree/family-tree.component.js\",\n  _s = $RefreshSig$();\n// File: src/components/FamilyTree.js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { auth } from '../../utils/firebase.utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FamilyTree = () => {\n  _s();\n  const [familyMembers, setFamilyMembers] = useState([]);\n  const [token, setToken] = useState(\"\");\n\n  // Authenticate the user and get token\n  useEffect(() => {\n    const fetchToken = async () => {\n      const user = auth.currentUser;\n      console.log(user);\n      if (user) {\n        const idToken = await user.getIdToken();\n        console.log(idToken);\n        setToken(idToken);\n      }\n    };\n    fetchToken();\n    console.log(auth);\n  }, []);\n\n  // Add a family member\n  const addFamilyMember = async () => {\n    try {\n      const response = await axios.post(\"http://localhost:5000/add-family-member\", {\n        name: \"John Doe\",\n        dob: \"1980-01-01\",\n        gender: \"male\",\n        parents: []\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"Family member added:\", response.data);\n    } catch (error) {\n      console.error(\"Error adding family member:\", error);\n    }\n  };\n\n  // Fetch all descendants\n  const getDescendants = async memberId => {\n    try {\n      const response = await axios.get(`http://localhost:5000/descendants/${memberId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setFamilyMembers(response.data);\n    } catch (error) {\n      console.error(\"Error fetching descendants:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Token found \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\" \", token]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Family Tree\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addFamilyMember,\n      children: \"Add Family Member\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => getDescendants('4:f23a8ef0-9d55-4111-8958-358acc73d827:0'),\n      children: \"Get Descendants\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: familyMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: member.name\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(FamilyTree, \"vqKyMNx2rrB3AXo7P6UOI+1txLA=\");\n_c = FamilyTree;\nexport default FamilyTree;\nvar _c;\n$RefreshReg$(_c, \"FamilyTree\");","map":{"version":3,"names":["React","useState","useEffect","axios","auth","jsxDEV","_jsxDEV","FamilyTree","_s","familyMembers","setFamilyMembers","token","setToken","fetchToken","user","currentUser","console","log","idToken","getIdToken","addFamilyMember","response","post","name","dob","gender","parents","headers","Authorization","data","error","getDescendants","memberId","get","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","member","index","_c","$RefreshReg$"],"sources":["/Volumes/External/code/my-app/frontend/src/routes/family-tree/family-tree.component.js"],"sourcesContent":["// File: src/components/FamilyTree.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { auth } from '../../utils/firebase.utils';\r\n\r\nconst FamilyTree = () => {\r\n  const [familyMembers, setFamilyMembers] = useState([]);\r\n  const [token, setToken] = useState(\"\");\r\n\r\n  // Authenticate the user and get token\r\n  useEffect(() => {\r\n    const fetchToken = async () => {\r\n      const user = auth.currentUser;\r\n      console.log(user)\r\n      if (user) {\r\n        const idToken = await user.getIdToken();\r\n        console.log(idToken);\r\n        setToken(idToken);\r\n      }\r\n    };\r\n    fetchToken();\r\n    console.log(auth);\r\n  }, []);\r\n\r\n  // Add a family member\r\n  const addFamilyMember = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/add-family-member\",\r\n        { name: \"John Doe\", dob: \"1980-01-01\", gender: \"male\", parents: [] },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      console.log(\"Family member added:\", response.data);\r\n    } catch (error) {\r\n      console.error(\"Error adding family member:\", error);\r\n    }\r\n  };\r\n\r\n  // Fetch all descendants\r\n  const getDescendants = async (memberId) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5000/descendants/${memberId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setFamilyMembers(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching descendants:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <div> \r\n    \r\n        <h2> Token found </h2>\r\n        <label> {token}</label>\r\n</div>\r\n      <h1>Family Tree</h1>\r\n      \r\n      <button onClick={addFamilyMember}>Add Family Member</button>\r\n      <button onClick={() => getDescendants('4:f23a8ef0-9d55-4111-8958-358acc73d827:0')}>Get Descendants</button>\r\n      <ul>\r\n        {familyMembers.map((member, index) => (\r\n          <li key={index}>{member.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FamilyTree;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}